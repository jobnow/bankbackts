{"ast":null,"code":"import _slicedToArray from\"/home/ricardo/bankpague/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/home/ricardo/bankpague/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useEffect,useRef,useState,useCallback}from'react';import{FiAlertCircle}from'react-icons/fi';import{useField}from'@unform/core';import{Container,Error}from'./styles';var Input=function Input(_ref){var name=_ref.name,containerStyle=_ref.containerStyle,Icon=_ref.icon,rest=_objectWithoutProperties(_ref,[\"name\",\"containerStyle\",\"icon\"]);var inputRef=useRef(null);var _useField=useField(name),fieldName=_useField.fieldName,defaultValue=_useField.defaultValue,error=_useField.error,registerField=_useField.registerField;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFocused=_useState2[0],setIsFocused=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFilled=_useState4[0],setIsFilled=_useState4[1];var handleInputFocus=useCallback(function(){setIsFocused(true);},[]);var handleInputBlur=useCallback(function(){var _inputRef$current;setIsFocused(false);setIsFilled(!!((_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.value));},[]);useEffect(function(){registerField({name:fieldName,ref:inputRef.current,path:'value'});},[fieldName,registerField]);return/*#__PURE__*/React.createElement(Container,{style:containerStyle,isErrored:!!error,isFilled:isFilled,isFocused:isFocused,\"data-testid\":\"input-container\"},Icon&&/*#__PURE__*/React.createElement(Icon,{size:20}),/*#__PURE__*/React.createElement(\"input\",Object.assign({name:name,onFocus:handleInputFocus,onBlur:handleInputBlur,defaultValue:defaultValue,ref:inputRef},rest)),error&&/*#__PURE__*/React.createElement(Error,{title:error},/*#__PURE__*/React.createElement(FiAlertCircle,{color:\"#ea0b0b\",size:20})));};export default Input;","map":{"version":3,"sources":["/home/ricardo/bankpague/front/src/components/Input/index.tsx"],"names":["React","useEffect","useRef","useState","useCallback","FiAlertCircle","useField","Container","Error","Input","name","containerStyle","Icon","icon","rest","inputRef","fieldName","defaultValue","error","registerField","isFocused","setIsFocused","isFilled","setIsFilled","handleInputFocus","handleInputBlur","current","value","ref","path"],"mappings":"4TAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,CAAmCC,QAAnC,CAA6CC,WAA7C,KAAgE,OAAhE,CACA,OAASC,aAAT,KAA8B,gBAA9B,CACA,OAASC,QAAT,KAAyB,cAAzB,CAIA,OAASC,SAAT,CAAoBC,KAApB,KAAiC,UAAjC,CAEA,GAAMC,CAAAA,KAA4B,CAAG,QAA/BA,CAAAA,KAA+B,MAK/B,IAJJC,CAAAA,IAII,MAJJA,IAII,CAHJC,cAGI,MAHJA,cAGI,CAFEC,IAEF,MAFJC,IAEI,CADDC,IACC,iEACJ,GAAMC,CAAAA,QAAQ,CAAGb,MAAM,CAAmB,IAAnB,CAAvB,CADI,cAEsDI,QAAQ,CAACI,IAAD,CAF9D,CAEIM,SAFJ,WAEIA,SAFJ,CAEeC,YAFf,WAEeA,YAFf,CAE6BC,KAF7B,WAE6BA,KAF7B,CAEoCC,aAFpC,WAEoCA,aAFpC,eAI8BhB,QAAQ,CAAC,KAAD,CAJtC,wCAIGiB,SAJH,eAIcC,YAJd,8BAK4BlB,QAAQ,CAAC,KAAD,CALpC,yCAKGmB,QALH,eAKaC,WALb,eAOJ,GAAMC,CAAAA,gBAAgB,CAAGpB,WAAW,CAAC,UAAM,CACzCiB,YAAY,CAAC,IAAD,CAAZ,CACD,CAFmC,CAEjC,EAFiC,CAApC,CAIA,GAAMI,CAAAA,eAAe,CAAGrB,WAAW,CAAC,UAAM,uBACxCiB,YAAY,CAAC,KAAD,CAAZ,CAEAE,WAAW,CAAC,CAAC,qBAACR,QAAQ,CAACW,OAAV,4CAAC,kBAAkBC,KAAnB,CAAF,CAAX,CACD,CAJkC,CAIhC,EAJgC,CAAnC,CAMA1B,SAAS,CAAC,UAAM,CACdkB,aAAa,CAAC,CACZT,IAAI,CAAEM,SADM,CAEZY,GAAG,CAAEb,QAAQ,CAACW,OAFF,CAGZG,IAAI,CAAE,OAHM,CAAD,CAAb,CAKD,CANQ,CAMN,CAACb,SAAD,CAAYG,aAAZ,CANM,CAAT,CAQA,mBACE,oBAAC,SAAD,EACE,KAAK,CAAER,cADT,CAEE,SAAS,CAAE,CAAC,CAACO,KAFf,CAGE,QAAQ,CAAEI,QAHZ,CAIE,SAAS,CAAEF,SAJb,CAKE,cAAY,iBALd,EAOGR,IAAI,eAAI,oBAAC,IAAD,EAAM,IAAI,CAAE,EAAZ,EAPX,cAQE,2CACE,IAAI,CAAEF,IADR,CAEE,OAAO,CAAEc,gBAFX,CAGE,MAAM,CAAEC,eAHV,CAIE,YAAY,CAAER,YAJhB,CAKE,GAAG,CAAEF,QALP,EAMMD,IANN,EARF,CAiBGI,KAAK,eACJ,oBAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,eACE,oBAAC,aAAD,EAAe,KAAK,CAAC,SAArB,CAA+B,IAAI,CAAE,EAArC,EADF,CAlBJ,CADF,CAyBD,CAvDD,CAyDA,cAAeT,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { FiAlertCircle } from 'react-icons/fi';\nimport { useField } from '@unform/core';\n\nimport IInputProps from './interfaces/IInputProps';\n\nimport { Container, Error } from './styles';\n\nconst Input: React.FC<IInputProps> = ({\n  name,\n  containerStyle,\n  icon: Icon,\n  ...rest\n}) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const { fieldName, defaultValue, error, registerField } = useField(name);\n\n  const [isFocused, setIsFocused] = useState(false);\n  const [isFilled, setIsFilled] = useState(false);\n\n  const handleInputFocus = useCallback(() => {\n    setIsFocused(true);\n  }, []);\n\n  const handleInputBlur = useCallback(() => {\n    setIsFocused(false);\n\n    setIsFilled(!!inputRef.current?.value);\n  }, []);\n\n  useEffect(() => {\n    registerField({\n      name: fieldName,\n      ref: inputRef.current,\n      path: 'value',\n    });\n  }, [fieldName, registerField]);\n\n  return (\n    <Container\n      style={containerStyle}\n      isErrored={!!error}\n      isFilled={isFilled}\n      isFocused={isFocused}\n      data-testid=\"input-container\"\n    >\n      {Icon && <Icon size={20} />}\n      <input\n        name={name}\n        onFocus={handleInputFocus}\n        onBlur={handleInputBlur}\n        defaultValue={defaultValue}\n        ref={inputRef}\n        {...rest}\n      />\n\n      {error && (\n        <Error title={error}>\n          <FiAlertCircle color=\"#ea0b0b\" size={20} />\n        </Error>\n      )}\n    </Container>\n  );\n};\n\nexport default Input;\n"]},"metadata":{},"sourceType":"module"}